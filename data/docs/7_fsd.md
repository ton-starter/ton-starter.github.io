## Основная идея FSD

**Главное правило:** Импорт только из нижних слоев в верхние (app → pages → widgets → features → entities → shared), но не наоборот!

**Представьте, что ваш проект — это матрешка:**

`Слои => Слайсы => Сегменты`

---

## 1. Основные слои (от внешнего к внутреннему)

### **1. app/** - "Настройки и окружение"

- **Что здесь:** Глобальные настройки, провайдеры, стили, роутинг
- **В Nuxt 3:** `app.vue`, `plugins/`, `layouts/`

### **2. pages/** - "Страницы сайта"

- **Что здесь:** Компоненты страниц, которые соответствуют URL
- **В Nuxt 3:** `pages/` (автоматическое создание маршрутов)

### **3. widgets/** - "Блоки страниц"

- **Что здесь:** Крупные независимые блоки (хедер, сайдбар, форма заказа)
- **Пример:** `header/`, `product-card/`, `user-profile/`

### **4. features/** - "Фичи пользователя"

- **Что здесь:** Поведение, специфичное для пользователя (авторизация, корзина, избранное)
- **Пример:** `auth/`, `cart/`, `search/`

### **5. entities/** - "Бизнес-сущности"

- **Что здесь:** Основные понятия вашего домена (пользователь, товар, заказ)
- **Пример:** `user/`, `product/`, `order/`

### **6. shared/** - "Переиспользуемое"

- **Что здесь:** Код, который используется в разных местах проекта
- **Пример:** `ui/` (кнопки, инпуты), `lib/` (утилиты), `api/` (клиенты API)

---

## 2. Внутренняя структура папок (те самые подпапки!)

Каждая папка в слоях делится на:

```
features/auth/
├── api/       # Запросы к API для авторизации
├── model/     # Типы, сторы, логика
├── ui/        # Компоненты этой фичи
└── lib/       # Вспомогательные функции
```

---

## 3. Где хранить types.ts в Nuxt 3?

### **Вариант 1: В shared слое**

```
shared/
└── lib/
    └── types/
        ├── api.ts      # Типы API
        ├── entities.ts # Типы сущностей
        └── index.ts    # Главный экспорт
```

### **Вариант 2: Рядом с сущностью**

```
entities/user/
├── model/
│   ├── types.ts    # Типы пользователя
│   └── store.ts    # Pinia-store с типами
```

### **Вариант 3: Глобальные типы в корне**

```
types/
├── global.d.ts     # Глобальные типы
└── api/           # Типы API
```

**Рекомендация для Nuxt 3:** Используйте `shared/lib/types` для общих типов и `model/` внутри каждого слайса для специфичных типов.

---

## Пример структуры проекта:

```
src/
├── app/
│   ├── providers/
│   └── components/
│       ├── widgets/
│       │   └── product-grid/
│       ├── features/
│       │   ├── auth/
│       │   │   ├── api/
│       │   │   ├── model/
│       │   │   └── ui/
│       │   └── cart/
│       ├── entities/
│       │   └── product/
│       │       ├── api/
│       │       ├── model/
│       │       └── ui/
│       └── shared/
│           ├── ui/
│           ├── lib/
│           │   └── types/
│           └── api/
└── pages/
    └── products/
```
