<script setup lang="ts">
const sections = ref([
  {
    title: '–ß—Ç–æ —Ç–∞–∫–æ–µ TON?',
    content:
      'TON ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∞–º–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –≠—Ç–æ –±–æ–ª—å—à–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ –±–ª–æ–∫—á–µ–π–Ω.',
    icon: 'üöÄ',
    gradient: 'light-blue',
  },
  {
    title: '–¢—Ä–∏ —Å—Ç–æ—Ä–æ–Ω—ã –±–ª–æ–∫—á–µ–π–Ω–∞ TON',
    content: '–ë–ª–æ–∫—á–µ–π–Ω TON –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ç—Ä–∏ —Å—Ç–æ—Ä–æ–Ω—ã:',
    list: [
      '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –≤–ª–∞–¥–µ—é—â–∏–µ –∞—Å—Å–µ—Ç–∞–º–∏ –≤ TON;',
      '–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–æ–º —Å–µ—Ç–∏;',
      '—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Ç–∏.',
    ],
    icon: '‚öñÔ∏è',
    gradient: 'purple-pink',
  },
]);

const services = ref([
  {
    type: '–ö–∞—Å—Ç–æ–¥–∏–∞–ª—å–Ω—ã–µ',
    definition:
      '—Å–µ—Ä–≤–∏—Å—ã, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Ç–æ–π –∂–µ —Å—Ç–æ—Ä–æ–Ω–æ–π, —á—Ç–æ –Ω–µ—Å–µ—Ç—Å—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞, —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã–µ –Ω–∞ —ç—Ç–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.',
    example:
      '–û–Ω–ª–∞–π–Ω-–±–∏—Ä–∂–∏ –æ–±—ã—á–Ω–æ —è–≤–ª—è—é—Ç—Å—è –∫–∞—Å—Ç–æ–¥–∏–∞–ª—å–Ω—ã–º–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –∏–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å –∫–æ—à–µ–ª—å–∫–æ–≤ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω.',
    warning:
      '–ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ –æ–Ω–ª–∞–π–Ω-–±–∏—Ä–∂–∏ –∑–¥–µ—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ä–∏—Å–∫, –ø–æ—Å–∫–æ–ª—å–∫—É –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –º–æ–≥—É—Ç –≤–∑–ª–æ–º–∞—Ç—å –∏—Ö –∏ —É–∫—Ä–∞—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.',
    color: 'danger',
    icon: 'üîê',
  },
  {
    type: '–ù–µ–∫–∞—Å—Ç–æ–¥–∏–∞–ª—å–Ω—ã–µ',
    definition:
      '—Å–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ö—Ä–∞–Ω—è—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –æ—Å—Ç–∞–≤–ª—è—é—Ç –∏—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤.',
    warning:
      '–ü–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∑–ª–∞–º—ã–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ.',
    color: 'success',
    icon: 'üõ°Ô∏è',
  },
]);

const apps = ref([
  {
    type: '–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ',
    definition: '–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.',
    icon: 'üè¢',
  },
  {
    type: '–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ',
    definition:
      '–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ —Ç—Ä–µ–±—É—é—Ç –Ω–∞–ª–∏—á–∏—è —Å–µ—Ä–≤–µ—Ä–∞, –∞ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –±–ª–æ–∫—á–µ–π–Ω–∞.',
    icon: 'üîó',
  },
]);

const blockchainTools = ref([
  {
    title: '–°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã',
    description: '–ª–µ–∂–∞—Ç –≤ –æ—Å–Ω–æ–≤–µ:',
    items: [
      { name: '–¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –±–∏—Ä–∂', icon: 'üí±' },
      {
        name: '—Ç–æ–∫–µ–Ω–æ–≤:',
        icon: 'üéÅ',
        subitems: ['–≤–∞–ª—é—Ç', '–∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤', '—Å–ª—É–∂–µ–±–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤'],
      },
      { name: '–∞—É–∫—Ü–∏–æ–Ω–æ–≤', icon: 'üìà' },
      { name: '–¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º–µ–Ω', icon: 'üåê' },
    ],
    gradient: 'orange',
  },
]);

const ecosystem = ref({
  title: '–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ TON',
  content:
    '–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∫–æ—à–µ–ª—å–∫–∏, –æ–±–º–µ–Ω–Ω–∏–∫–∏, —Ç—Ä–µ–π–¥–µ—Ä–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö —á–µ—Ä–µ–∑ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã.',
  elements: ['üëõ –ö–æ—à–µ–ª—å–∫–∏', 'üí± –û–±–º–µ–Ω–Ω–∏–∫–∏', 'üìä –¢—Ä–µ–π–¥–µ—Ä—ã', 'üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏'],
});
</script>

<template>
  <div class="lesson-container">
    <!-- Hero Section -->
    <div class="lesson-hero">
      <h1 class="lesson-hero__title">
        <span class="lesson-hero__icon">‚ö°</span>
        –ë—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ TON
      </h1>
      <p class="lesson-hero__subtitle">
        –£—Ä–æ–∫ 1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å–µ—Ä–≤–∏—Å—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
      </p>
    </div>

    <!-- Main Content -->
    <div class="article__content">
      <!-- Introduction Section -->
      <section class="lesson-section lesson-section--intro">
        <div class="lesson-section__header">
          <div
            class="lesson-section__icon-wrapper"
            :class="`gradient--${sections[0].gradient}`"
          >
            <span class="lesson-icon lesson-icon--medium">{{
              sections[0].icon
            }}</span>
          </div>
          <div class="lesson-section__title-wrapper">
            <h2 class="lesson-section__title">{{ sections[0].title }}</h2>
          </div>
        </div>
        <p class="lesson-section__content">
          {{ sections[0].content }}
        </p>
      </section>

      <!-- Three Sides of TON -->
      <section class="lesson-section">
        <div class="lesson-section__header">
          <div
            class="lesson-section__icon-wrapper"
            :class="`gradient--${sections[1].gradient}`"
          >
            <span class="lesson-icon lesson-icon--medium">{{
              sections[1].icon
            }}</span>
          </div>
          <div class="lesson-section__title-wrapper">
            <h2 class="lesson-section__title">{{ sections[1].title }}</h2>
          </div>
        </div>
        <p class="lesson-section__content">{{ sections[1].content }}</p>
        <div class="lesson-grid lesson-grid--3">
          <div
            v-for="(item, index) in sections[1].list"
            :key="index"
            class="lesson-card"
          >
            <div
              class="lesson-number lesson-number--circle lesson-number--circle-lg"
            >
              {{ index + 1 }}
            </div>
            <p class="lesson-card__text">{{ item }}</p>
          </div>
        </div>
      </section>

      <!-- Services Comparison -->
      <section class="lesson-section">
        <div class="lesson-section__header">
          <h2 class="lesson-section__title lesson-section__title--center">
            –¢–∏–ø—ã —Å–µ—Ä–≤–∏—Å–æ–≤
          </h2>
        </div>
        <div class="lesson-grid lesson-grid--2">
          <div
            v-for="(service, index) in services"
            :key="index"
            class="lesson-card"
            :class="`service-${service.color}`"
          >
            <div class="service-header">
              <span class="lesson-icon lesson-icon--large">{{
                service.icon
              }}</span>
              <h3 class="lesson-card__title">{{ service.type }}</h3>
            </div>
            <p class="lesson-card__text">{{ service.definition }}</p>
            <div v-if="service.example" class="lesson-example">
              <div class="lesson-example__title">–ü—Ä–∏–º–µ—Ä:</div>
              <p class="lesson-example__text">{{ service.example }}</p>
            </div>
            <div class="lesson-alert lesson-alert--warning">
              <div class="lesson-alert__icon">‚ö†Ô∏è</div>
              <p class="lesson-alert__text">{{ service.warning }}</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Apps Comparison -->
      <section class="lesson-section">
        <div class="lesson-section__header">
          <h2 class="lesson-section__title lesson-section__title--center">
            –¢–∏–ø—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
          </h2>
        </div>
        <div class="lesson-grid lesson-grid--2">
          <div v-for="(app, index) in apps" :key="index" class="lesson-card">
            <div class="app-header">
              <span class="lesson-icon lesson-icon--large">{{ app.icon }}</span>
              <h3 class="lesson-card__title">{{ app.type }}</h3>
            </div>
            <p class="lesson-card__text">{{ app.definition }}</p>
          </div>
        </div>
      </section>

      <!-- Blockchain Tools -->
      <section class="lesson-section">
        <div
          v-for="tool in blockchainTools"
          :key="tool.title"
          class="tools-section"
        >
          <div class="lesson-section__header">
            <div
              class="lesson-section__icon-wrapper"
              :class="`gradient--${tool.gradient}`"
            >
              <span class="lesson-icon lesson-icon--medium">üíé</span>
            </div>
            <div class="lesson-section__title-wrapper">
              <h2 class="lesson-section__title">{{ tool.title }}</h2>
            </div>
          </div>
          <p class="lesson-section__content">{{ tool.description }}</p>
          <div class="lesson-grid lesson-grid--4">
            <div
              v-for="(item, index) in tool.items"
              :key="index"
              class="lesson-card tool-item"
            >
              <div class="lesson-icon lesson-icon--large">{{ item.icon }}</div>
              <h4 class="tool-name">{{ item.name }}</h4>
              <ul
                v-if="item.subitems"
                class="lesson-list lesson-list--unordered"
              >
                <li
                  v-for="(subitem, subIndex) in item.subitems"
                  :key="subIndex"
                  class="lesson-list__item"
                >
                  {{ subitem }}
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Conclusion -->
      <section class="lesson-conclusion">
        <div class="lesson-conclusion__content">
          <h2 class="lesson-conclusion__title">{{ ecosystem.title }}</h2>
          <p class="lesson-conclusion__text">{{ ecosystem.content }}</p>
          <div class="lesson-grid lesson-grid--4">
            <div
              v-for="(element, index) in ecosystem.elements"
              :key="index"
              class="ecosystem-item"
            >
              <div class="lesson-icon lesson-icon--large">
                {{ element.split(' ')[0] }}
              </div>
              <span class="ecosystem-label">{{ element.substring(2) }}</span>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</template>

<style lang="scss">
// Page-specific styles only ‚Äî shared lesson styles live in `app/assets/styles/global.scss`

.lesson-container {
  // Local content layout tweaks
  .article__content {
    display: flex;
    flex-direction: column;
    gap: $spacing-3xl;
  }

  // Centered section title modifier (kept local)
  .lesson-section__title--center {
    text-align: center;
    width: 100%;
    margin-bottom: 0;
  }

  // Service badges used only on this page
  .service-danger {
    border-color: #fecaca;
    background: #fef2f2;
  }

  .service-success {
    border-color: #bbf7d0;
    background: #f0fdf4;
  }

  .service-header,
  .app-header {
    display: flex;
    align-items: center;
    gap: $spacing-sm;
    margin-bottom: $spacing-md;
  }

  .lesson-example {
    background: rgba(255, 255, 255, 0.5);
    border-radius: $border-radius-md;
    padding: $spacing-md;
    margin: $spacing-md 0;

    &__title {
      margin-bottom: $spacing-xs;
    }

    &__text {
      font-size: $font-size-base;
      color: $color-text-medium;
      line-height: 1.6;
      margin: 0;
    }
  }

  .tool {
    &-item {
      @include flex-center;
      flex-direction: column;
      text-align: center;

      .lesson-icon {
        margin-bottom: $spacing-md;
      }

      .lesson-list {
        text-align: left;
      }
    }
    &-name {
      font-size: $font-size-lg;
      font-weight: 600;
      color: $color-text-dark;
      margin-bottom: $spacing-sm;
    }
  }

  .ecosystem-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: $spacing-xs;

    .lesson-icon {
      margin-bottom: $spacing-xs;
    }
  }

  .ecosystem-label {
    color: #d1d5db;
    font-size: $font-size-base;
    text-align: center;
  }
}

// Responsive tweaks that are specific to this page
@media (max-width: 640px) {
  .lesson-hero__icon {
    font-size: $font-size-3xl;
  }

  .lesson-card__title {
    font-size: $font-size-lg;
  }
}

@media (max-width: 480px) {
  .lesson-container {
    padding: $spacing-xl 0;
  }

  .lesson-hero__title {
    font-size: $font-size-xl;
  }

  .lesson-section__title {
    font-size: $font-size-lg;
  }
}
</style>
